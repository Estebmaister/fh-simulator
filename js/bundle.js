(()=>{var e={620:(e,t,n)=>{const{logger:o}=n(170),{stringRadResult:r,stringShldResult:a,stringConvResult:s}=n(30),u=(e,t,n)=>{let r;switch(e){default:break;case"t_amb":r=parseFloat(t[e]),r>-n.tempToK&&r<100&&(n.tAmb=r+n.tempToK);break;case"humidity":r=parseFloat(t[e]),r>=0&&r<=100&&(n.humidity=r);break;case"p_atm":r=parseFloat(t[e]),r>.001&&r<1e3&&(n.pAtm=1e3*r);break;case"air_excess":r=parseFloat(t[e]),r>=0&&r<=300&&(n.airExcess=.01*r);break;case"o2_excess":r=parseFloat(t[e]),r>=0&&r<=30&&(n.o2Excess=.01*r);break;case"unit_system":o.debug(`"${e}", "value":"${t[e]}"`),n.unitSystem=t[e]}};e.exports={browserProcess:(e,t,n,l)=>{let i="en";const c=window.location.pathname.split("/");c.length>0&&c.forEach((e=>{"es"==e&&(i="es")})),n.lang=i;const _=(e=>{if(""==e)return{};let t={};for(const n of e){const e=n.split("=",2);1==e.length?t[e[0]]="":t[e[0]]=decodeURIComponent(e[1].replace(/\+/g," "))}return t})(window.location.search.substr(1).split("&"));_!=={}&&((e,t,n,r)=>{const a={},s=n.filter((t=>t.Formula in e));for(const t in e)if(1===s.filter((e=>e.Formula==t)).length&&""!==e[t]){const n=parseFloat(e[t]);n>0&&n<=100?a[t]=n/100:o.error(`fuel fraction invalid (${n}) for ${t}`)}else""!==e[t]&&void 0!==e[t]&&u(t,e,r);Object.keys(a).length})(_,0,t,n),((e,t,n,o)=>{let u="";u+="es"==n?`\nDatos de entrada\n  (en caso de no haber sido introducidos, tomará el predeterminado)\n\n  Sistema de unidades:   ${e.debug_data.unitSystem}\n  Presión atmosférica:   ${e.debug_data.atmPressure}\n  Temperatura ambiente:  ${e.debug_data.ambTemperature}\n  Humedad:               ${e.debug_data["humidity_%"]} %\n  N2 en aire seco:       ${e.debug_data["dryAirN2_%"]} %\n  O2 en aire seco:       ${e.debug_data["dryAirO2_%"]} %\n\n  Presión de aire seco:     ${e.debug_data.dryAirPressure}\n  Presión de vapor de agua: ${e.debug_data.waterPressure}\n  Presión parcial de H2O:   ${e.debug_data["H2OPressure_%"]} 10^(-2)\n  Presión parcial de N2:    ${e.debug_data["N2Pressure_%"]} 10^(-2)\n  Presión parcial de O2:    ${e.debug_data["O2Pressure_%"]} 10^(-2)\n  Contenido húmedo (w):     ${e.debug_data.moisture}-AireSeco\n\nMoles de gases de combustión total y porcentajes por cada mol de combustible\n\n  Flujo total: ${e.flows.total_flow}\n  Flujo seco:  ${e.flows.dry_total_flow}\n\n  N2:  ${e.products.N2}\n  O2:  ${e.products.O2}\n  H2O: ${e.products.H2O}\n  CO2: ${e.products.CO2}\n  SO2: ${e.products.SO2}\n\n  Porcentajes en base húmeda\n    N2:  ${e.flows["N2_%"]} %\n    H2O: ${e.flows["H2O_%"]} %\n    CO2: ${e.flows["CO2_%"]} %\n    O2:  ${e.flows["O2_%"]} %\n\n  Exceso de aire usado: ${e.flows["air_excess_%"]} %\n  Moles O2 requeridos/mol de combustible (teórico): ${e.flows.O2_mol_req_theor}\n\n  Relación A/C molar húmeda:  ${e.flows.AC}\n  Relación A/C másica húmeda: ${e.flows.AC_mass}\n  Relación A/C molar (aire seco, teórica):    ${e.flows.AC_theor_dryAir}\n  Relación A/C másica (aire húmedo, teórica): ${e.flows.AC_mass_theor_moistAir}\n\n  Peso molecular del combustible: ${e.flows.fuel_MW}\n  Cp(t_entrada) del combustible:  ${e.flows.fuel_Cp}\n  NCV: ${e.flows.NCV}\n\n  Peso molecular de los gases de combustión: ${e.flows.flue_MW}\n  Cp(t_amb) de los gases de combustión: ${e.flows.flue_Cp_Tamb}\n`:`\nInput Data \n  (in case of no input, default values will be taken)\n\n  Unit System:          ${e.debug_data.unitSystem}\n  Atmospheric Pressure: ${e.debug_data.atmPressure}\n  Ambient Temperature:  ${e.debug_data.ambTemperature}\n  Humidity:             ${e.debug_data["humidity_%"]} %\n  N2 en aire seco:      ${e.debug_data["dryAirN2_%"]} %\n  O2 en aire seco:      ${e.debug_data["dryAirO2_%"]} %\n\n  Dry Air Pressure:     ${e.debug_data.dryAirPressure}\n  Water Vapor Pressure: ${e.debug_data.waterPressure}\n  Partial Pressure H2O: ${e.debug_data["H2OPressure_%"]} 10^(-2)\n  Partial Pressure N2 : ${e.debug_data["N2Pressure_%"]} 10^(-2)\n  Partial Pressure O2 : ${e.debug_data["O2Pressure_%"]} 10^(-2)\n  Moisture content (w): ${e.debug_data.moisture}-dryAir\n\nTotal flue gas moles and percentage (per fuel mol)\n\n  Flow total: ${e.flows.total_flow}\n  Dry total:  ${e.flows.dry_total_flow}\n\n  N2:  ${e.products.N2}\n  O2:  ${e.products.O2}\n  H2O: ${e.products.H2O}\n  CO2: ${e.products.CO2}\n  SO2: ${e.products.SO2}\n\n  Moist basis percentage\n    N2:  ${e.flows["N2_%"]} %\n    H2O: ${e.flows["H2O_%"]} %\n    CO2: ${e.flows["CO2_%"]} %\n    O2:  ${e.flows["O2_%"]} %\n\n  Air excess used : ${e.flows["air_excess_%"]} %\n  Moles O2 required/fuel-mol (theoretical): ${e.flows.O2_mol_req_theor}\n\n  A/C molar moist relation:   ${e.flows.AC}\n  A/C mass moist relation:    ${e.flows.AC_mass}\n  A/C molar relation (dry air, theoretical):   ${e.flows.AC_theor_dryAir}\n  A/C mass relation (moist air, theoretical):  ${e.flows.AC_mass_theor_moistAir}\n\n  Fuel mol weight:    ${e.flows.fuel_MW}\n  Fuel Cp(t_fuel_in):\t${e.flows.fuel_Cp}\n  NCV: ${e.flows.NCV}\n\n  Flue gas mol weight: ${e.flows.flue_MW}\n  Flue gas Cp(t_amb):  ${e.flows.flue_Cp_Tamb}\n`,document.getElementById("loader-wrapper").remove(),document.getElementById("output-combustion").textContent=u,document.getElementById("output-radiant").textContent=r(n,e.rad_result,o),document.getElementById("output-shield").textContent=a(n,e.shld_result,o),document.getElementById("output-convective").textContent=s(n,e.conv_result,o)})(l(e,n),0,i,n.unitSystem)}}},392:(e,t,n)=>{const{newtonRaphson:o,options:r,logger:a,round:s,roundDict:u,initSystem:l,normalize:i,flueViscosity:c,flueThermalCond:_}=n(170),d=n(684),f={O2:.2095,N2:.7905,H2O:0},m=(e,t={})=>{const n=Object.values(e).reduce(((e,t)=>e+t)),o=Math.abs(1-n)<=3e-12;return o||(t.err+=`[fuel fraction not equal to 1, total: ${n}. fuels: ${Object.keys(e)}],`),o},h=({c0:e,c1:t,c2:n,c3:o,MW:r,Substance:s},u)=>l=>"-"===e?(a.debug(`"Cp0", "Msg": "Wrong use, called for compound ${s}, no data found"`),0):u?r*(e+t*(.001*l)+n*(.001*l)**2+o*(.001*l)**3):e+t*(.001*l)+n*(.001*l)**2+o*(.001*l)**3,p=(e,t)=>{if(0===e.length)return e=>0;let n=JSON.parse(JSON.stringify(e));m(e)||(n=i(n,"Cp_multicomp"));const o=d.filter((e=>e.Formula in n)),r=[];let a=0;for(const e in n)r[a]=r=>n[e]*h(o.filter((t=>t.Formula==e))[0],t)(r),a++;return r.reduce(((e,t)=>n=>e(n)+t(n)),(e=>0))},O=e=>{if(0===e.length)return e=>0;let t=JSON.parse(JSON.stringify(e));m(e)||(t=i(t,"MW_multicomp"));const n=d.filter((e=>e.Formula in t));let o=0;for(const e in t)o+=n.filter((t=>t.Formula==e))[0].MW*t[e];return o},$=(e,t)=>{const n=e-r.tempToK;return 610.78*Math.exp(n/(n+238.3)*17.2694)*t*.01},C=(e,t)=>{const n=$(e,t);return d[31].MW*n/(O(f)*(r.pAtm-n))},b=(e,t)=>"-"===e.Cp0?"-"===e.h0?(r.verbose&&a.warn(`wrong use of deltaH func, called for compound ${e.Substance} without data`),void 0===t?()=>0:0):void 0===t?()=>e.h0:e.h0:void 0===t?t=>e.h0+e.MW*h(e)((r.tempAmbRef+t)/2)*(t-r.tempAmbRef):e.h0+e.MW*h(e)((r.tempAmbRef+t)/2)*(t-r.tempAmbRef),g=(e,t,n,o)=>{const a=b(d[6]),s=b(d[34]),u=b(d[2]);let l=b(d[31]);return!0===o&&(l=b(d[32])),void 0===n&&(n=r.tAmb),void 0===t?t=>e.CO2*a(t)+e.SO2*s(t)+e.H2O*l(t)-b(e)(n)-e.O2*u(n):e.CO2*a(t)+e.SO2*s(t)+e.H2O*l(t)-b(e)(n)-e.O2*u(n)};e.exports={combSection:(e,t,n)=>{a.debug(`"airExcess", "value": ${e}`);const h=l(n.unitSystem),k={err:"",atmPressure:h.pressure(n.p_atm),ambTemperature:h.tempC(n.t_amb),"humidity_%":s(n.humidity),"dryAirN2_%":s(79.05),"dryAirO2_%":s(20.95),moisture:h.moist(C(n.t_amb,n.humidity)),unitSystem:h.system[n.lang]},v=d.filter(((e,n,o)=>e.Formula in t));let w={...t};m(t,k)||(w=i(t,"combSection")),((e,t,n={})=>{const o=Math.abs(t.length-Object.keys(e).length);0===o||(a.error(`[some fuels aren't in the database, #badFuels: ${o}],`),n.err+=`[some fuels aren't in the database, #badFuels: ${o}],`)})(w,v,k);const N={O2:0,N2:0,H2O:0,CO2:0,SO2:0},S={...f};((e,t,n)=>{for(const o of e)for(const e in t)if("N2"!=e)t[e]+=o[e]*n[o.Formula];else{if("N2"==o.Formula||'"N2a'==o.Formula){t[e]+=n[o.Formula];continue}t[e]+=o.O2*n[o.Formula]*3.7732696897374702}})(v,N,w),e-1e-6<0&&(e=0),n.humidity-1e-6<0&&(n.humidity=0);let A=N.O2,y=A*(1+e);if(N.O2<=0||N.N2<0)a.error(`airExcess set to 0, O2 in fuel is greater than or equal to needed. Products O2:${N.O2}, N2:${N.N2}`),y=0,A=0,N.N2=w.N2,N.O2=-N.O2;else{const e=$(n.t_amb,n.humidity),t=n.p_atm-e;S.N2=.7905*t/n.p_atm,S.O2=.2095*t/n.p_atm,S.H2O=e/n.p_atm,k.dryAirPressure=h.pressure(t),k.waterPressure=h.pressure(e),k["H2OPressure_%"]=s(100*S.H2O),k["N2Pressure_%"]=s(100*S.N2),k["O2Pressure_%"]=s(100*S.O2),N.O2=y-N.O2,N.N2+=N.O2*(S.N2/S.O2),N.H2O+=N.N2*(e/(S.N2*n.p_atm))}n.NCV=-((e,t,n,o)=>{let r=0;for(const a in e){if(a in t)continue;const s=n.filter((e=>e.Formula==a))[0];r+=e[a]*g(s)(o)}return r})(w,N,v,n.t_amb)/O(w),n.adFlame=o(((e,t,n,o)=>{void 0===n&&(n=r.tAmb),void 0===o&&(o=0);const a=d.filter((t=>t.Formula in e)),s=b(d.filter((e=>"O2"==e.Formula))[0]),u=b(d.filter((e=>"N2"==e.Formula))[0]),l=b(d.filter((e=>"CO2"==e.Formula))[0]),i=b(d.filter((e=>"H2O"==e.Formula))[0]),c=b(d.filter((e=>"SO2"==e.Formula))[0]),_=[];let f=0;for(const t in e)_[f]=e[t]*b(a.filter((e=>e.Formula==t))[0])(n),f++;return e=>(e=>t.O2*s(e)+t.SO2*c(e)+t.H2O*i(e)+t.CO2*l(e)+t.N2*u(e)-t.N2*u(n)-o*s(n))(e)-_.reduce(((e,t)=>e+t))})(w,N,n.t_amb,y),2e3,n.NROptions,"fuel_adFlame"),a.info(`Adiabatic flame temp: [${s(n.adFlame)} K] ${h.tempC(n.adFlame)}`);let F=0,M=0;for(const e in N)F+=N[e],"H2O"!==e&&(M+=N[e]);const H={total_flow:F,dry_total_flow:M,"N2_%":100*N.N2/F,"H2O_%":100*N.H2O/F,"CO2_%":100*N.CO2/F,"O2_%":100*N.O2/F,O2_mol_req_theor:A,O2_mass_req_theor:h.mass(A*d[2].MW),"air_excess_%":100*n.airExcess,AC:y/S.O2,AC_theor_dryAir:A/.2095,AC_mass:y/S.O2*O(S)/O(w),AC_mass_theor_moistAir:A/S.O2*O(S)/O(w),fuel_MW:h["mass/mol"](O(w)),fuel_Cp:h.cp(p(w,!0)(n.t_fuel)),flue_MW:h["mass/mol"](O(N)),flue_Cp_Tamb:h.cp(p(N,!0)(n.t_amb)),NCV:h["energy/mass"](n.NCV)};return n.Pco2=N.CO2/F,n.Ph2o=N.H2O/F,n.m_flue_ratio=F*O(N)/O(w),n.m_air_ratio=y/S.O2*O(S)/O(w),n.Cp_flue=p(N),n.Cp_air=p(S),n.Cp_fuel=p(w),n.miu_flue=c(d,N),n.kw_flue=_(d,N),u(N),u(H),u(k),""==k.err&&delete k.err,{flows:H,products:N,debug_data:k}}}},489:(e,t,n)=>{const{newtonRaphson:o,logger:r,LMTD:a,round:s,unitConv:u}=n(170),{options:l,initSystem:i}=n(170),c=i("EN");e.exports={convSection:e=>{if(null==e)return r.error("wrong call for convection section, no parameters set at call."),{};let t=e.tg_sh,n=0,u=e.t_in_sh,l=e.t_in_conv,i=0;const _=(e,t=u)=>.5*(e+t),d=e.m_fluid,f=e.m_flue,m=(t,n=t)=>e.Cp_fluid(_(t,n)),h=(t,n=t)=>e.Cp_flue(_(t,n)),p=t=>e.kw_fluid(t),O=t=>e.kw_tube(t),$=t=>e.kw_flue(t),C=t=>e.miu_fluid(t),b=t=>e.miu_flue(t),g=e.Rfo,k=e.Rfi,v=e.L_conv,w=e.Do_conv,N=e.Do_conv-2*e.Sch_sh_cnv,S=e.Pitch_sh_cnv,A=e.N_conv,y=e.Tpr_sh_cnv,F=e.Nf,M=e.Lf,H=e.Tf,T=y*S*v-(w+2*M*H*F)*v*y,R=Math.PI*w*(1-F*H)+Math.PI*F*(2*M*(w+M)+H*(w+2*M)),P=Math.PI*w*(1-F*H),I=R-P,D=A*R*v,x=Math.PI*N**2/2,W=2/3*(e.Width_rad*e.Length_rad*e.Height_rad)**(1/3),B=(e.Ph2o+e.Pco2)*W,Q=3.6,E=e=>C(e)*Q*m(e)/p(e),L=e=>b(e)*Q*h(e)/$(e),U=d/Q/x,J=e=>U*N/C(e),K=f/Q/T,G=e=>K*w/b(e),j=(e,t=e)=>p(e)/N*.023*J(e)**.8*E(e)**(1/3)*(C(e)/C(t))**.14,V=(e,t=u)=>d*m(e,t)*(t-e),q=(e=_(u,l),t=e,n=l)=>(e=>V(e))(n)/D*(w/N)*(k+1/j(e,t)+N*Math.log(w/N)/(2*O(t)))+e,z=(e,t)=>2.2*3.692695482*B**.5*(P/R)**.75;let X=e=>$(e)/w*.33*L(e)**(1/3)*G(e)**.6;const Y=(e,t)=>1/(1/(X(e)+z())+g),Z=O(q(_(l,u),q(_(l,u)))),ee=M+H/2,te=(Y(_(t,n),q(_(l,u),q(_(l,u))))/(6*Z*H))**.5,ne=Math.tanh(te*ee)/(te*ee),oe=ne*(.7+.3*ne),re=w+2*M,ae=oe*(.45*Math.log(re/w)*(oe-1)+1),se=(e,t)=>Y(e)*(ae*I+P)/R,ue=t=>((e,t,n,o,r)=>{const a=n.Lf,s=1/n.Nf-n.Tf,u=.35+.65*Math.exp(-.25*a/s),l=n.Pitch_sh_cnv,i=n.Pitch_sh_cnv,c=n.N_conv/n.Tpr_sh_cnv,_=.7+(.7-.8*Math.exp(-.15*c**2))*Math.exp(-l/i),d=(2*n.Lf+n.Do_conv)/n.Do_conv;return n=>(t=>.25*e(t)**-.35)(n)*u*_*d**.5*(n/(e=>e+(t()-e)/((Math.exp(1.4142*o*r)+Math.exp(-1.4142*o*r))/2))(n))**.25})(G,q,e,te,ee)(t);X=e=>ue(e)*K*h(e)*L(e)**-.67;const le=e=>a(e,u,t,n),ie=(e,t)=>w/N*(1/j(e,t)+k),ce=e=>w*Math.log(w/N)/(2*O(e)),_e=(e,t)=>1/se(e),de=(e,t,n)=>1/((e,t,n)=>_e(e)+ce(n)+ie(t,n))(e,t,n),fe=(e,t)=>f*h(e,t)*(e-t),me=(e,t,n)=>de(_(n,t),_(e),q(_(e),q(_(e))))*D*le(e),he=e=>fe(t,e)-V(l,u),pe=e=>V(e)-me(e,t,n);n=o(he,t-58,e.NROptions,"Tg_out_convective-1"),i=o(pe,l,e.NROptions,"T_in_convective-1"),r.warn(`"vars to check in shld section",\n    "t_in_conv":  "${c.tempC(i)} vs ${c.tempC(l)}"`);const Oe=(e,t=l)=>Math.abs(e-t)/t;let $e=0;for(;Oe(i)>1e-6;){if(r.debug(`"Tin_convective", "t_in_cnv_calc": ${i}, "t_in_cnv_sup": ${l}`),!i){r.error("Invalid t_in_calc at convective sect");break}if(l=i,n=o(he,t-58,e.NROptions,"Tg_out_convective-2"),i=o(pe,l,e.NROptions,"T_in_convective-2"),$e++,$e>10){r.info(`diff vs error: 0.000001-${Oe(i)}`),r.error("Max iterations reached for inlet temp calc at convective sect");break}}const Ce={t_in_given:e.t_in_conv,t_in:l,t_out:u,Tb:_(l),Tw:q(_(l),q(_(l))),tg_out:n,tg_in:t,Tb_g:_(t,n),LMTD:le(l),DeltaA:t-u,DeltaB:n-l,Q_flue:fe(t,n),Q_fluid:V(l),Q_conv:me(l,t,n),Cp_fluid:m(l,u),Cp_flue:h(t,n),miu_fluid:C(q(_(l))),kw_fluid:p(_(l)),kw_tube:O(q(_(l))),kw_flue:$(_(t,n)),Prandtl:s(E(_(u))),Reynolds:s(J(_(u))),PrandtlFlue:s(L(_(u))),ReynoldsFlue:s(G(_(u))),At:D,Ai:x,An:T,Ao:R,Apo:P,Afo:I,Ef:ae,hi:j(_(l)),hi_tw:j(_(l),q(_(l),q(_(l)))),hr:z(_(n,t),q(_(l),q(_(l)))),hc:X(_(t,n)),ho:Y(_(t,n),q(_(l),q(_(l)))),he:se(_(t,n),q(_(l),q(_(l)))),j:ue(_(n,t)),Uo:de(_(t,n),_(l),q(_(l))),R_int:ie(_(l),q(_(l))),R_tube:ce(q(_(l))),R_ext:_e(_(t,n),q(_(l))),TUBING:{Material:"A-312 TP321","No Tubes Wide":e.Tpr_sh_cnv,"No Tubes":A,"Wall Thickness":c.length(e.Sch_sh_cnv),"Outside Di":c.length(w),"Ef. Length":c.length(v),"Tran Pitch":c.length(S),"Long Pitch":c.length(S)},FINING:{Material:"11.5-13.5Cr",Type:"Solid",Height:c.length(e.Lf),Thickness:c.length(e.Tf),Dens:e.Nf+" 1/m",Arrange:"Staggered Pitch"}};return Ce.miu_flue=b(n),r.default(`T_in_given: ${c.tempC(e.t_in_conv)}, T_in_calc: ${c.tempC(i)}, Tg_out_conv: ${c.tempC(n)}`),e.t_in_conv_calc=l,e.tg_conv=n,Ce}}},113:(e,t,n)=>{const{newtonRaphson:o,logger:r,round:a,unitConv:s}=n(170),{options:u,initSystem:l}=n(170),i=l(u.unitSystem),c=(e,t,n)=>{let u=0,l=0,c=n.t_out,f=e||n.m_fuel;const m=n.t_air,h=n.t_fuel,p=n.t_amb,O=n.t_in_conv,$=(e,t=l)=>.5*(t+e),C=n.Rfi,b=n.N_rad,g=n.N_shld,k=n.L_rad,v=n.L_shld,w=n.Do_rad,N=n.Do_rad-n.Sch_rad,S=n.Pitch_rad||.394,A=n.Pitch_sh_cnv,y=n.h_conv||30.66,F=2/3*(n.Width_rad*n.Length_rad*n.Height_rad)**(1/3),M=n.Pass_number*S/n.Do_rad,H=(n.Ph2o+n.Pco2)*F,T=1+.49*M/6-.09275*M**2+.065*M**3/6+25e-5*M**4,R=_(n.Width_rad,n.Length_rad,n.Height_rad),P=g*A*v,I=2*b*S*k,D=b*Math.PI*w*k,x=Math.PI*N**2/2,W=2.041e-7;r.warn(`Acp: ${a(s.m2toft2(I))} ft, Acp_shld: ${a(s.m2toft2(P))} ft`);const B=n.duty_rad_dist||.7,Q=n.efficiency||.8,E=n.heat_loss_percent||.015,L=n.NCV,U=n.m_fluid,J=(e=f)=>n.m_flue_ratio*e,K=n.Cp_fuel($(h,p)),G=n.Cp_air($(m,p)),j=(e,t=e)=>n.Cp_fluid($(e,t)),V=(e,t=e)=>n.Cp_flue($(e,t)),q=e=>n.kw_fluid(e),z=e=>n.kw_tube(e),X=e=>n.miu_fluid(e);let Y=0;const Z=e=>d(H,T,I,1,P,R)(s.KtoF(e)),ee=e=>X(e)*j(e)*3.6/q(e),te=U/3.6/x,ne=e=>te*N/X(e),oe=(e,t=e)=>q(e)/N*.023*ne(e)**.8*ee(e)**(1/3)*(X(e)/X(t))**.14,re=(e,t=e,n=Y)=>n/D*(w/N)*(C+1/oe(e,t)+N*Math.log(w/N)/(2*z(t)))+e,ae=(e,t=m,o=p)=>((e=f)=>n.m_air_ratio*e)(e)*G*(t-o),se=e=>e*L,ue=(e,t=h,n=p)=>e*K*(t-n),le=(e,t=m,n=h,o=p)=>se(e)+ae(e,t,o)+ue(e,n,o),ie=(e=f)=>E*se(e),ce=(e,t=c,n=l)=>W*Z(e)*(T*I)*(e**4-re($(t,n),re($(t,n)))**4),_e=(e,t=c,n=l)=>y*D*(e-re($(t,n),re($(t,n)))),de=(e,t=c,n=l)=>ce(e,t,n)+_e(e,t,n),fe=(e,t=c,n=l)=>W*Z(e)*(1*P)*(e**4-re($(t,n),re($(t,n)))**4),me=(e,t=f,n=p)=>J(t)*V(e,n)*(e-n),he=(e,t=c,n=f,o=l,r=p)=>de(e,t,o)+fe(e,t,o)+ie(n)+me(e,n,r);let pe=0,Oe=0;if(void 0!==t){Oe=U*j(O,c)*(c-O),Y=Oe*B,l=O+Oe*(1-B)/(U*j(O,c)),pe=o((e=>U*j(l,c)*(c-l)-(ce(e)+_e(e))),1e3,n.NROptions,"rad_Tg_Tout"),pe&&(u=pe);const e=e=>he(u,c,e)-le(e),t=U*j(O,c)*(c-O)/(L*Q);f=o(e,t,n.NROptions,"rad_mFuel"),f&&(n.m_fuel=f)}else if(void 0!==e){Oe=se(e)*Q,Y=Oe*B,l=O+Oe*(1-B)/(U*j(O)),t=O+Oe/(U*j(l)),pe=o((e=>he(e,t,f)-le(f)),1e3,n.NROptions,"rad_Tg_mFuel"),pe&&(u=pe),c=o((e=>U*j(l,t)*(e-l)-(ce(u)+_e(u))),t,n.NROptions,"rad_Tout"),c&&(n.t_out=c),r.info(`t_out, seed: ${t} vs calc: ${c}`);const a=U*j(l,c)*(c-O),s=n.t_in_conv+a*(1-B)/(U*j(l,c));r.info(`t_in_rad, seed: ${l} vs calc: ${s}`)}else n.err+="-wrong call for rad section, no seed for mass fuel or out temp.";n.t_out=c,n.t_in_rad=l,n.tg_rad=u,n.duty_rad=Y,n.q_rad_sh=fe(u),n.m_flue=J(f);const $e={m_fuel:f,t_in:l,t_out:c,Tw:re($(c),re($(c))),tg_out:u,Q_in:le(f),Q_rls:se(f),Q_air:ae(f),Q_fuel:ue(f),Q_out:he(u,c,f),Q_flue:me(u),Q_losses:ie(f),Q_shld:fe(u),Q_conv:_e(u),Q_rad:ce(u,c),Q_R:de(u),Q_fluid:((e=c,t=l)=>U*j(e,t)*(e-t))(),kw_fluid:q($(l)),kw_tube:z(re($(l))),kw_flue:n.kw_flue(u),Cp_fluid:j(l,c),Cp_fuel:K,Cp_air:G,Cp_flue:V(u,p),At:D,Ar:R,Ai:x,Acp:I,Acp_sh:P,duty:Oe,duty_rad:Y,duty_flux:Y/D,hi:oe($(c)),hi_tw:oe($(c),re($(c))),hi_tww:oe($(c),re($(c),re($(c)))),h_conv:y,Prandtl:a(ee($(c))),Reynolds:a(ne($(c))),Alpha:a(T),MBL:a(F),Pco2:a(n.Pco2),Ph2o:a(n.Ph2o),PL:a(H),F:a(Z(u)),F_desired:.635,TUBING:{Material:"A-312 TP321","No Tubes Wide":2,"No Tubes":b,OD:i.length(w),"Wall Thickness":i.length(n.Sch_rad),Length:i.length(k),"Tube Spacing":i.length(S)},FINING:"None"};return $e.miu_flue=n.miu_flue(u),$e.miu_fluid=X($(c)),$e},_=(e,t,n)=>{const o=t*e,a=n*t,u=58*e+2*a+o,l=n*e*2+2*a+1.234*o;return r.warn(`{"Ar prev (ft)": ${u},"Ar calc (ft)": ${l}}`),s.fttom(l)*s.fttom(1)},d=(e,t,n,o,r,a)=>{const s=o*r+t*n,u=(a-s)/s,l=(e=>{const t={a:{A:2.58e-8,B:-39e-9,C:6.8e-9,D:-2.2e-10},b:{A:-119e-6,B:56e-6,C:-41e-7,D:-72e-8},c:{A:.21258,B:.2258,C:-.047351,D:.004165}},n=(e,n=t)=>t=>n.a[e]*t**2+n.b[e]*t+n.c[e],o=n("A"),r=n("B"),a=n("C"),s=n("D");return t=>o(t)+r(t)*e+a(t)*e**2+s(t)*e**3})(e),i={a:{A:-5e-4,B:.0072,C:-.0062},b:{A:.0022,B:-.1195,C:.1168},c:{A:.0713,B:.5333,C:-.6473},d:{A:-.0152,B:1.0577,C:-.154}},c=(e,t=i)=>n=>t.a[e]*n**3+t.b[e]*n**2+t.c[e]*n+t.d[e],_=c("A"),d=c("B"),f=c("C");return e=>_(u)+d(u)*l(e)+f(u)*l(e)**2};e.exports={radSection:e=>{let t={};if(null==e)return r.error("wrong call for radiant section, no parameters set at call."),t;if(void 0!==e.t_out)t=c(void 0,e.t_out,e);else if(void 0!==e.m_fuel)t=c(e.m_fuel,void 0,e);else{const t="wrong call for radiant section, no seed for mass fuel or out temp.";r.error(t),e.err+=`-${t}`}return t}}},30:(e,t,n)=>{const{round:o,initSystem:r}=n(170);e.exports={stringRadResult:(e,t,n)=>{const o=r(n);let a;a="es"==e?"Resultados para sección radiante:":"Radiant section results:";let s="\n";return Object.entries(t.TUBING).forEach((([e,t])=>s+=`\t${e}: ${t}\n`)),a+=`\n\n  m_fuel:   ${o.mass_flow(t.m_fuel)}\n\n  t_in:     ${o.tempC(t.t_in)}\n  t_out:    ${o.tempC(t.t_out)}\n  Tw:       ${o.tempC(t.Tw)}\n  tg_out:   ${o.tempC(t.tg_out)}\n\n  Q_in:     ${o.heat_flow(t.Q_in)}\n    Q_rls:    ${o.heat_flow(t.Q_rls)}\n    Q_air:    ${o.heat_flow(t.Q_air)}\n    Q_fuel:   ${o.heat_flow(t.Q_fuel)}\n\n  Q_out:    ${o.heat_flow(t.Q_out)}\n    Q_flue:   ${o.heat_flow(t.Q_flue)}\n    Q_losses: ${o.heat_flow(t.Q_losses)}\n    Q_shld:   ${o.heat_flow(t.Q_shld)}\n    Q_R:      ${o.heat_flow(t.Q_R)}\n      Q_conv: ${o.heat_flow(t.Q_conv)}\n      Q_rad:  ${o.heat_flow(t.Q_rad)}\n    Q_fluid:  ${o.heat_flow(t.Q_fluid)}\n\n  At:       ${o.area(t.At)}\n  Ar:       ${o.area(t.Ar)}\n  Ai:          ${o.area(t.Ai)}\n  Acp:      ${o.area(t.Acp)}\n  Acp_sh:    ${o.area(t.Acp_sh)}\n\n  hi:       ${o.convect(t.hi)}\n  hi_tw:    ${o.convect(t.hi_tw)}\n  hi_twf:   ${o.convect(t.hi_tww)}\n  h_conv:   ${o.convect(t.h_conv)}\n  duty:      ${o.heat_flow(t.duty)}\n  duty_flux: ${o.heat_flux(t.duty_flux)}\n  duty_rad:  ${o.heat_flow(t.duty_rad)}\n\n\n  Alpha:    ${t.Alpha}\n  MBL:      ${t.MBL}\n  Pco2:     ${t.Pco2}\n  Ph2o:     ${t.Ph2o}\n  PL:       ${t.PL}\n  F:        ${t.F} vs ${t.F_desired}\n\n  kw_fluid: ${o.thermal(t.kw_fluid)}\n  kw_tube:  ${o.thermal(t.kw_tube)}\n  kw_flue:  ${o.thermal(t.kw_flue)}\n  Cp_fluid: ${o.cp(t.Cp_fluid)}\n  Cp_flue:  ${o.cp(t.Cp_flue)}\n  miu_fluid:${o.viscosity(t.miu_fluid)}\n  miu_flue: ${o.viscosity(t.miu_flue)}\n  \n  Pr_fluid: ${t.Prandtl}\n  Re_fluid: ${t.Reynolds}\n  Cp_fuel:  ${o.cp(t.Cp_fuel)}\n  Cp_air:   ${o.cp(t.Cp_air)}\n\n  TUBING: ${s}\n  FINING: ${JSON.stringify(t.FINING,null,2)}\n  `,"\n"+a},stringShldResult:(e,t,n)=>{const a=r(n);let s;s="es"==e?"Resultados para sección de escudo:":"Shield section results:";let u="\n";return Object.entries(t.TUBING).forEach((([e,t])=>u+=`\t${e}: ${t}\n`)),s+=`\n\n  m_flue:   ${a.mass_flow(t.m_flue)}\n  t_in_sup: ${a.tempC(t.t_in_sup)}\n  t_in:     ${a.tempC(t.t_in)}\n  t_out:    ${a.tempC(t.t_out)}\n  Tw:       ${a.tempC(t.Tw)}\n  Tb_g:     ${a.tempC(t.Tb_g)}\n  tg_in:      ${a.tempC(t.tg_in)}\n  tg_out:     ${a.tempC(t.tg_out)}\n\n  LMTD:     ${a.temp(t.LMTD)}\n  DeltaA:     ${a.temp(t.DeltaA)}\n  DeltaB:     ${a.temp(t.DeltaB)}\n  Log(A/B):   ${o(Math.log(t.DeltaA/t.DeltaB))}\n  DeltaA-B:   ${a.temp(t.DeltaA-t.DeltaB)}\n\n  Q_flue:   ${a.heat_flow(t.Q_flue)}\n  Q_R:      ${a.heat_flow(t.Q_R)}\n    Q_rad:  ${a.heat_flow(t.Q_rad)}\n    Q_conv: ${a.heat_flow(t.Q_conv)}\n  Q_fluid:  ${a.heat_flow(t.Q_fluid)}\n\n  At:       ${a.area(t.At)}\n  Ai:         ${a.area(t.Ai)}\n  An:       ${a.area(t.An)}\n  Acp:      ${a.area(t.Acp)}\n\n  hi:       ${a.convect(t.hi)}\n  hi_tw:    ${a.convect(t.hi_tw)}\n  hr:       ${a.convect(t.hr)}\n  ho:       ${a.convect(t.ho)}\n  hc:       ${a.convect(t.hc)}\n\n  Uo:       ${a.convect(t.Uo)}\n  R_int:    ${o(t.R_int,6)}\n  R_tube:   ${o(t.R_tube,6)}\n  R_ext:    ${o(t.R_ext,6)}\n\n  kw_fluid: ${a.thermal(t.kw_fluid)}\n  kw_tube:  ${a.thermal(t.kw_tube)}\n  kw_flue:  ${a.thermal(t.kw_flue)}\n  Cp_fluid: ${a.cp(t.Cp_fluid)}\n  Cp_flue:  ${a.cp(t.Cp_flue)}\n  miu_fluid:${a.viscosity(t.miu_fluid)}\n  miu_flue: ${a.viscosity(t.miu_flue)}\n\n  Pr_fluid: ${t.Prandtl}\n  Re_fluid: ${t.Reynolds}\n  Pr_flue:  ${t.PrandtlFlue}\n  Re_flue:  ${t.ReynoldsFlue}\n\n  TUBING: ${u}\n  FINING: ${JSON.stringify(t.FINING,null,2)}\n  `,"\n"+s},stringConvResult:(e,t,n)=>{const a=r(n);let s;s="es"==e?"Resultados para sección convectiva:":"Convective section results:";let u="\n";return Object.entries(t.TUBING).forEach((([e,t])=>u+=`\t${e}: ${t}\n`)),s+=`\n\n\n  t_in_data:${a.tempC(t.t_in_given)}\n  t_in:     ${a.tempC(t.t_in)}\n  t_out:    ${a.tempC(t.t_out)}\n  Tw:       ${a.tempC(t.Tw)}\n  Tb_g:     ${a.tempC(t.Tb_g)}\n  tg_in:      ${a.tempC(t.tg_in)}\n  tg_out:     ${a.tempC(t.tg_out)}\n\n  LMTD:     ${a.temp(t.LMTD)}\n  DeltaA:     ${a.temp(t.DeltaA)}\n  DeltaB:     ${a.temp(t.DeltaB)}\n  Log(A/B):   ${o(Math.log(t.DeltaA/t.DeltaB))}\n  DeltaA-B:   ${a.temp(t.DeltaA-t.DeltaB)}\n\n  Q_flue:   ${a.heat_flow(t.Q_flue)}\n  Q_conv:   ${a.heat_flow(t.Q_conv)}\n  Q_fluid:  ${a.heat_flow(t.Q_fluid)}\n\n  At:       ${a.area(t.At)}\n  Ai:         ${a.area(t.Ai)}\n  An:       ${a.area(t.An)}\n  Ao:        ${a.area(t.Ao)}\n  Apo:        ${a.area(t.Apo)}\n  Afo:       ${a.area(t.Afo)}\n  Ef:       ${o(t.Ef,6)}\n\n  hi:       ${a.convect(t.hi)}\n  hr:       ${a.convect(t.hr)}\n  ho:       ${a.convect(t.ho)}\n  hc:       ${a.convect(t.hc)}\n  he:       ${a.convect(t.he)}\n  \n  Uo:       ${a.convect(t.Uo)}\n  R_int:    ${o(t.R_int,6)}\n  R_tube:   ${o(t.R_tube,6)}\n  R_ext:    ${o(t.R_ext,6)}\n  j:        ${o(t.j,6)} vs .0055\n\n  kw_fluid: ${a.thermal(t.kw_fluid)}\n  kw_tube:  ${a.thermal(t.kw_tube)}\n  kw_flue:  ${a.thermal(t.kw_flue)}\n  Cp_fluid: ${a.cp(t.Cp_fluid)}\n  Cp_flue:  ${a.cp(t.Cp_flue)}\n  miu_fluid:${a.viscosity(t.miu_fluid)}\n  miu_flue: ${a.viscosity(t.miu_flue)}\n\n  Pr_fluid: ${t.Prandtl}\n  Re_fluid: ${t.Reynolds}\n  Pr_flue:  ${t.PrandtlFlue}\n  Re_flue:  ${t.ReynoldsFlue}\n\n  TUBING: ${u}\n  FINING: ${JSON.stringify(t.FINING,null,2)}\n  `,"\n"+s}}},361:(e,t,n)=>{const{newtonRaphson:o,logger:r,LMTD:a,round:s,unitConv:u}=n(170),{options:l,initSystem:i}=n(170),c=i(l.unitSystem);e.exports={shieldSection:e=>{let t=e.tg_rad,n=0,l=e.t_in_rad,i=.5*(e.t_in_rad+e.t_in_conv),_=0;const d=e=>m*p(e,l)*(l-e),f=(e,t=l)=>.5*(e+t),m=e.m_fluid,h=e.m_flue,p=(t,n=t)=>e.Cp_fluid(f(t,n)),O=(t,n=t)=>e.Cp_flue(f(t,n)),$=t=>e.kw_fluid(t),C=t=>e.kw_tube(t),b=t=>e.kw_flue(t),g=t=>e.miu_fluid(t),k=t=>e.miu_flue(t),v=e.Rfo,w=e.Rfi,N=e.N_shld,S=e.L_shld,A=e.Do_shld,y=e.Do_shld-2*e.Sch_sh_cnv,F=e.Pitch_sh_cnv,M=N*F*S,H=N*Math.PI*A*S,T=Math.PI*y**2/2,R=(N/2*(F-A)+F/2)*S,P=3.6;r.warn(`Acp_shld: ${s(u.m2toft2(M))} ft`);const I=e=>g(e)*P*p(e)/$(e),D=e=>k(e)*P*O(e)/b(e),x=m/P/T,W=e=>x*y/g(e),B=h/P/R,Q=e=>B*A/k(e),E=(e,t=e)=>$(e)/y*.023*W(e)**.8*I(e)**(1/3)*(g(e)/g(t))**.14,L=e=>.092*e-34,U=e=>b(e)/A*.33*D(e)**(1/3)*Q(e)**.6,J=(e,n=t)=>1/(1/(U(f(e,n))+L(n))+v),K=(e,t=e,n=i)=>d(n)/H*(A/y)*(w+1/E(e,t)+y*Math.log(A/y)/(2*C(t)))+e,G=(e,t)=>A/(y*E(e,t))+A/y*w,j=e=>A*Math.log(A/y)/(2*C(e)),V=(e,n=t)=>1/J(e,n),q=(e,t,n,o)=>1/((e,t,n,o)=>V(e,t)+j(o)+G(n,o))(e,t,n,o),z=e.q_rad_sh,X=(e,t,n,o,r)=>q(n,t,o,r)*H*a(e,l,t,n),Y=(e,t,n,o,r)=>z+X(e,t,n,o,r),Z=(e,t=l)=>m*p(e,t)*(t-e),ee=(e,t=n)=>h*O(e,t)*(e-t),te=e=>ee(t,e)+z-Z(i,l),ne=e=>Z(e)-Y(e,t,n,f(e),K(f(e),K(f(e))));n=o(te,t-200,e.NROptions,"Tg_out_shield-1"),_=o(ne,i,e.NROptions,"T_in_shield-1");const oe=(e,t=i)=>Math.abs(e-t)/t;let re=0;for(;oe(_)>1e-6;){if(r.debug(`"Tin_shield",  "t_in_sh_calc": ${s(_)}, "t_in_sh_sup": ${s(i)}`),!_){r.error("Invalid t_in_calc at shield sect");break}if(i=_,_=o(ne,i,e.NROptions,"T_in_shield-2"),n=o(te,t-58,e.NROptions,"Tg_out_shield-2"),re++,re>10){r.info(`diff vs error: 0.000001-${oe(_)}`),r.error("Max iterations reached for inlet temp calc at shield sect");break}}e.t_in_sh=i,e.tg_sh=n;const ae={m_flue:h,t_in_sup:.5*(e.t_in_rad+e.t_in_conv),t_in:i,t_out:l,Tb:f(i),Tw:K(f(i),K(f(i))),tg_out:n,tg_in:t,Tb_g:f(t,n),LMTD:a(i,l,t,n),DeltaA:t-l,DeltaB:n-i,Q_flue:ee(t,n),Q_fluid:Z(i),Q_R:Y(i,t,n,f(i),K(f(i))),Q_rad:z,Q_conv:X(i,t,n,f(i),K(f(i))),Cp_fluid:p(i,l),Cp_flue:O(t,n),miu_fluid:g(K(f(i))),duty_sh:d(i),kw_fluid:$(f(i)),kw_tube:C(K(f(i))),kw_flue:b(f(t,n)),Prandtl:s(I(f(l))),Reynolds:s(W(f(l))),PrandtlFlue:s(D(f(l))),ReynoldsFlue:s(Q(f(l))),At:H,Ai:T,An:R,Acp:M,hi:E(f(i)),hi_tw:E(f(i),K(f(i))),hr:L(t),ho:J(n),hc:U(f(t,n)),Uo:q(n,t,f(i),K(f(i),K(f(i)))),R_int:G(f(i),K(f(i),K(f(i)))),R_tube:j(K(f(i),K(f(i)))),R_ext:V(n,t),TUBING:{Material:"A-312 TP321","No Tubes Wide":e.Tpr_sh_cnv,"No Tubes":N,"Wall Thickness":c.length(e.Sch_sh_cnv),"Outside Di":c.length(A),"Ef. Length":c.length(S),"Tran Pitch":c.length(F),"Long Pitch":c.length(F)},FINING:"None"};return ae.miu_flue=k(n),r.default(`T_in_sh: ${s(i)} K, Tg_sh: ${s(n)} K`),ae}}},170:e=>{const t=(...e)=>{let t=""+e[1][0];for(var n=1;n<e[1].length;n++)t+=" "+e[1][n];switch(e[0]){case"DEBUG":s.verbose&&console.debug(JSON.parse(`{"${e[0]}": ${t}}`));break;case"INFO":console.info(`{ [32;1m${e[0]}[0m: "${t}"}`);break;case"ERROR":console.error(`{ [31;1m${e[0]}[0m: '${t}'}`);break;case"WARN":console.warn(`{ [35;1m${e[0]}[0m: '${t}'}`);break;default:console.log(`{ [34;1m${e[0]}[0m: '${t}'}`)}},n={info:(...e)=>t("INFO",e),warn:(...e)=>t("WARN",e),error:(...e)=>t("ERROR",e),debug:(...e)=>t("DEBUG",e),default:(...e)=>t("DEFAULT",e)},o=273.15,r=298.15,a={RtoK:e=>e*(5/9),KtoR:e=>1.8*e,KtoF:e=>1.8*e-459.67,CtoK:e=>e+o,CtoF:e=>1.8*e+32,FtoC:e=>5/9*(e-32),FtoK:e=>5/9*(e-32)+o,kgtolb:e=>2.20462*e,lbtokg:e=>e/2.20462,kJtoBTU:e=>e/1.05506,BTUtokJ:e=>1.05506*e,fttom:e=>e/3.28084,ft2tom2:e=>e/3.28084**2,mtoft:e=>3.28084*e,m2toft2:e=>e*3.28084**2,intom:e=>e/39.3701,CpENtoCpSI:e=>1.05506*e/(5/9)*2.20462,kwENtokwSI:e=>1.05506*e/(5/9)*3.28084,hcENtohcSI:e=>1.05506*e/(5/9)*3.28084**2,BtuHtoW:e=>e/3.4121416331},s=(()=>{const e={tempToK:o,tempAmbRef:r,verbose:!0,tAmb:r,humidity:0,o2Excess:0,airExcess:0,pAtm:101325,unitSystem:"SI",lang:"en",NROptions:{tolerance:1e-4,epsilon:3e-8,maxIterations:20,h:1e-4,verbose:!0}};return"undefined"==typeof process||(e.verbose="true"==process.argv[2],e.unitSystem=process.argv[3],e.tAmb=o+parseFloat(process.argv[4])||r,e.humidity=parseFloat(process.argv[5])||0,e.o2Excess=.01*parseFloat(process.argv[6])||0,e.airExcess=.01*parseFloat(process.argv[7])||0,e.pAtm=parseFloat(process.argv[8])||101325,e.NROptions.verbose="true"==process.argv[2]),e})();s.verbose&&n.debug(`"options","args":${JSON.stringify(s,null,2)}`);const u=(e,t=3)=>(Math.round(e*10**t)/10**t).toFixed(t),l=(e,t)=>{const o={...e},r=Object.values(o).reduce(((e,t)=>e+t));for(const e in o)o[e]=o[e]/r;return s.verbose&&n.debug(`"normalize", "name": "${t}", "total": ${r}`),o},i=({k0:e,k1:t,k2:o,Substance:r})=>0==e||"-"==e?(s.verbose&&n.debug(`"Thermal Cond func called for '${r}' without coffs"`),()=>0):n=>3.6*(e+t*n+o*n**2),c=({u0:e,u1:t,u2:o,Substance:r})=>0==e||"-"==e?(s.verbose&&n.debug(`"Viscosity func called for '${r}' without coffs"`),()=>0):n=>e+t*n+o*n**2,_={"energy/mol":e=>u(a.kJtoBTU(e))+" Btu/mol","mass/mol":e=>u(2.2046244202*e)+" lb/lb-mol",heat_flow:e=>u(1e-6*a.kJtoBTU(e))+" MBtu/h",heat_flux:e=>u(a.kJtoBTU(e)/a.mtoft(1)**2)+" Btu/h-ft2",fouling_factor:e=>u(10.763910417*e*1.8/.94781712)+" h-ft2-°F/Btu","energy/mass":e=>u(a.kJtoBTU(e)/a.kgtolb(1))+" Btu/lb","energy/vol":e=>u(a.kJtoBTU(e)/a.mtoft(1)**3)+" Btu/ft3",area:e=>u(10.763910417*e)+" ft2",length:e=>u(a.mtoft(e))+" ft",temp:e=>u(a.KtoR(e))+" °R",tempC:e=>u(a.CtoF(e-o))+" °F",pressure:e=>u(.0001450377*e)+" psi",mass:e=>u(.0022046244202*e)+" lb",mass_flow:e=>u(a.kgtolb(e))+" lb/h",vol_flow:e=>u(a.mtoft(e)**3)+" f3/h",cp:e=>u(.238845896627*e)+" Btu/lb-mol °F",power:e=>u(3.4121416331*e)+" Btu/h",moist:e=>u(1e3*e)+"x10^(-3) lb-H2O/lb",thermal:e=>u(a.kJtoBTU(e)/a.KtoR(1)/a.mtoft(1))+" BTU/h-ft-F",convect:e=>u(a.kJtoBTU(e)/a.KtoR(1)/a.mtoft(1)**2)+" BTU/h-ft2-F",viscosity:e=>u(1*e)+" cP",system:{en:"English",es:"Inglés"}},d={"energy/mol":e=>u(1*e)+" kJ/mol","mass/mol":e=>u(1*e)+" kg/kmol",heat_flow:e=>u(1e-6*e)+" MJ/h",heat_flux:e=>u(1*e)+" W/m2",fouling_factor:e=>u(1*e)+" m2-K/W","energy/mass":e=>u(1*e)+" kJ/kg","energy/vol":e=>u(1*e)+" kJ/m3",area:e=>u(1*e)+" m2",length:e=>u(1*e)+" m",tempC:e=>u(1*e-o)+" °C",temp:e=>u(1*e)+" K",pressure:e=>u(.001*e)+" kPa",mass:e=>u(.001*e)+" kg",mass_flow:e=>u(1*e)+" kg/h",vol_flow:e=>u(1*e)+" m3/h",cp:e=>u(1*e)+" kJ/kmol K",power:e=>u(1*e)+" W",moist:e=>u(1e3*e)+" g-H2O/kg",thermal:e=>u(1*e)+" kJ/h-m-C",convect:e=>u(1*e)+" kJ/h-m2-C",viscosity:e=>u(1*e)+" cP",system:{en:"SI",es:"SI"}};e.exports={options:s,unitConv:a,newtonRaphson:(e,t,o,r,a)=>{let s,u,l,i,c,_,d,f;"function"!=typeof t&&(a=r,r=o,o=t,t=null);const m=r||{},h=void 0===m.tolerance?1e-7:m.tolerance,p=void 0===m.epsilon?222e-17:m.epsilon,O=void 0===m.h?1e-4:m.h,$=1/O,C=void 0===m.maxIterations?20:m.maxIterations;for(i=0;i++<C;){if(u=e(o),t?l=t(o):(c=e(o+O),_=e(o-O),d=e(o+2*O),f=e(o-2*O),l=(f-d+8*(c-_))*$/12),Math.abs(l)<=p*Math.abs(u))return n.error(`Newton-Raphson (${a}): failed to converged due to nearly zero first derivative`),!1;if(s=o-u/l,Math.abs(s-o)<=h*Math.abs(s))return n.debug(`"Newton-Raphson", "func":"${a}", "var converged to":${s}, "iterations":${i}`),s;o=s}return n.error(`Newton-Raphson (${a}): Maximum iterations reached (${C})`),!1},logger:n,round:u,roundDict:(e={})=>{for(const[t,n]of Object.entries(e))isNaN(n)||""===n||(e[t]=u(n))},linearApprox:({x1:e,x2:t,y1:o,y2:r})=>{if("number"!=typeof o)return n.error(`call for linearApprox with incorrect value type for y1: ${o}`),()=>0;if(e==t||null==t||null==r)return()=>o;const a=(r-o)/(t-e);return t=>a*(t-e)+o},viscosityApprox:({t1:e,t2:t,v1:o,v2:r})=>{if("number"!=typeof o)return n.error(`call for viscosityApprox with incorrect value type for v1: ${o}`),()=>0;if(e==t||null==t||null==r)return()=>o;const a=Math.log(o/r)/(1/e-1/t),s=o*Math.exp(-a/e);return e=>s*Math.exp(a/e)},initSystem:e=>{if("string"!=typeof e)return s.verbose&&n.warn(`invalid type (${e}) for unit system, using default SI`),d;switch(e.toLowerCase()){case"si":return d;case"english":case"en":return _;default:return n.warn(e.toLowerCase()+" - invalid unit system, using default SI"),d}},normalize:l,flueViscosity:(e,t)=>{const n=l(t,"flueViscosity"),o=c(e[34]),r=c(e[31]),a=c(e[6]),s=c(e[3]),u=c(e[2]);return e=>n.CO2*a(e)+n.SO2*o(e)+n.H2O*r(e)+n.O2*u(e)+n.N2*s(e)},flueThermalCond:(e,t)=>{const n=l(t,"flueThermalCond"),o=i(e[34]),r=i(e[31]),a=i(e[6]),s=i(e[3]),u=i(e[2]);return e=>n.CO2*a(e)+n.SO2*o(e)+n.H2O*r(e)+n.O2*u(e)+n.N2*s(e)},kw_tubes_A312_TP321:e=>{const t=e-o;return 3.6*(14.643+.0164*t+-2e-6*t**2)},LMTD:(e,t,n,o,r)=>{let a=n-t,s=o-e;return r&&(a=o-e,s=n-t),(a-s)/Math.log(a/s)}}},684:e=>{"use strict";e.exports=JSON.parse('[{"ID":0,"Substance":"Carbon","Formula":"C","MW":12.011,"h0":0,"Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":1,"SO2":0,"CO2":1,"H2O":0,"N2":3.773269},{"ID":1,"Substance":"Hydrogen","Formula":"H2","MW":2.0159,"h0":0,"Cp0":14.209,"c0":13.46,"c1":4.6,"c2":-6.85,"c3":3.79,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":0.5,"SO2":0,"CO2":0,"H2O":1,"N2":1.886634},{"ID":2,"Substance":"Oxygen","Formula":"O2","MW":31.9988,"h0":0,"Cp0":0.922,"c0":0.88,"c1":-0.0001,"c2":0.54,"c3":-0.33,"u0":0.00845,"u1":0.0000472,"u2":-6.56e-9,"k0":0.00733,"k1":0.0000708,"k2":-6.61e-9,"O2":-1,"SO2":0,"CO2":0,"H2O":0,"N2":0},{"ID":3,"Substance":"Nitrogen","Formula":"N2","MW":28.0134,"h0":0,"Cp0":1.042,"c0":1.11,"c1":-0.48,"c2":0.96,"c3":-0.42,"u0":0.00784,"u1":0.0000387,"u2":-5.11e-9,"k0":0.00952,"k1":0.000062,"k2":-6.22e-9,"O2":0,"SO2":0,"CO2":0,"H2O":0,"N2":1},{"ID":4,"Substance":"Nitrogen (atm)","Formula":"N2a","MW":28.158,"h0":0,"Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":0,"SO2":0,"CO2":0,"H2O":0,"N2":1},{"ID":5,"Substance":"Carbon Monoxide","Formula":"CO","MW":28.0104,"h0":-110527,"Cp0":1.041,"c0":1.1,"c1":-0.46,"c2":1,"c3":-0.454,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":0.5,"SO2":0,"CO2":1,"H2O":0,"N2":1.886634},{"ID":6,"Substance":"Carbon Dioxide","Formula":"CO2","MW":44.0098,"h0":-393522,"Cp0":0.842,"c0":0.45,"c1":1.67,"c2":-1.27,"c3":0.39,"u0":0.00331,"u1":0.0000445,"u2":-6.69e-9,"k0":-0.00958,"k1":0.0000918,"k2":-1.14e-8,"O2":0,"SO2":0,"CO2":1,"H2O":0,"N2":0},{"ID":7,"Substance":"Methane","Formula":"CH4","MW":16.0428,"h0":-74873,"Cp0":2.254,"c0":1.2,"c1":3.25,"c2":0.75,"c3":-0.71,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":2,"SO2":0,"CO2":1,"H2O":2,"N2":7.546539},{"ID":8,"Substance":"Ethane","Formula":"C2H6","MW":30.0697,"h0":-84740,"Cp0":1.766,"c0":0.18,"c1":5.92,"c2":-2.31,"c3":0.29,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":3.5,"SO2":0,"CO2":2,"H2O":3,"N2":13.20644},{"ID":9,"Substance":"Propane","Formula":"C3H8","MW":44.0966,"h0":-103900,"Cp0":1.679,"c0":-0.096,"c1":6.95,"c2":-3.6,"c3":0.73,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":5,"SO2":0,"CO2":3,"H2O":4,"N2":18.86634},{"ID":10,"Substance":"n-Butane","Formula":"C4H10","MW":58.1235,"h0":-126200,"Cp0":1.716,"c0":0.163,"c1":5.7,"c2":-1.906,"c3":-0.049,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":6.5,"SO2":0,"CO2":4,"H2O":5,"N2":24.52625},{"ID":11,"Substance":"Isobutane","Formula":"iC4H10","MW":58.1235,"h0":-135000,"Cp0":1.547,"c0":0.206,"c1":5.67,"c2":-2.12,"c3":0.183,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":6.5,"SO2":0,"CO2":4,"H2O":5,"N2":24.52625},{"ID":12,"Substance":"n-Pentane","Formula":"C5H12","MW":72.1504,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":8,"SO2":0,"CO2":5,"H2O":6,"N2":30.18615},{"ID":13,"Substance":"Isopentane","Formula":"iC5H12","MW":72.1504,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":8,"SO2":0,"CO2":5,"H2O":6,"N2":30.18615},{"ID":14,"Substance":"Neopentane","Formula":"nC5H12","MW":72.1504,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":8,"SO2":0,"CO2":5,"H2O":6,"N2":30.18615},{"ID":15,"Substance":"n-Hexane","Formula":"C6H14","MW":86.1773,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":9.5,"SO2":0,"CO2":6,"H2O":7,"N2":35.84606},{"ID":16,"Substance":"Ethylene","Formula":"C2H4","MW":28.0538,"h0":52467,"Cp0":1.548,"c0":0.136,"c1":5.58,"c2":-3,"c3":0.63,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":3,"SO2":0,"CO2":2,"H2O":2,"N2":11.3198},{"ID":17,"Substance":"Propylene","Formula":"C3H6","MW":42.0807,"h0":20410,"Cp0":1.437,"c0":0.454,"c1":4.06,"c2":-0.934,"c3":-0.133,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":4.5,"SO2":0,"CO2":3,"H2O":3,"N2":16.97971},{"ID":18,"Substance":"n-Butene (Butylene)","Formula":"C4H8","MW":56.1076,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":6,"SO2":0,"CO2":4,"H2O":4,"N2":22.63961},{"ID":19,"Substance":"Isobutene","Formula":"iC4H8","MW":56.1076,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":6,"SO2":0,"CO2":4,"H2O":4,"N2":22.63961},{"ID":20,"Substance":"n-Pentene","Formula":"C5H10","MW":70.1345,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":7.5,"SO2":0,"CO2":5,"H2O":5,"N2":28.29952},{"ID":21,"Substance":"Benzene","Formula":"C6H6","MW":78.1137,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":7.5,"SO2":0,"CO2":6,"H2O":3,"N2":28.29952},{"ID":22,"Substance":"Toluene","Formula":"C7H8","MW":92.1406,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":9,"SO2":0,"CO2":7,"H2O":4,"N2":33.95942},{"ID":23,"Substance":"Xylene","Formula":"C8H10","MW":106.1675,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":10.5,"SO2":0,"CO2":8,"H2O":5,"N2":39.6193},{"ID":24,"Substance":"Acetylene","Formula":"C2H2","MW":26.0379,"h0":226731,"Cp0":1.699,"c0":1.03,"c1":2.91,"c2":-1.92,"c3":0.54,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":2.5,"SO2":0,"CO2":2,"H2O":1,"N2":9.433174},{"ID":25,"Substance":"Naphthalene","Formula":"C10H8","MW":128.1736,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":12,"SO2":0,"CO2":10,"H2O":4,"N2":45.27923},{"ID":26,"Substance":"Methyl alcohol-Methanol","Formula":"CH3OH","MW":32.0422,"h0":-201300,"Cp0":1.405,"c0":0.66,"c1":2.21,"c2":0.81,"c3":-0.89,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":1.5,"SO2":0,"CO2":1,"H2O":2,"N2":5.659904},{"ID":27,"Substance":"Ethyl alcohol-Ethanol","Formula":"C2H5OH","MW":46.0691,"h0":-235000,"Cp0":1.427,"c0":0.2,"c1":-4.65,"c2":-1.82,"c3":0.03,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":3,"SO2":0,"CO2":2,"H2O":3,"N2":11.3198},{"ID":28,"Substance":"Ammonia","Formula":"NH3","MW":17.0306,"h0":-45720,"Cp0":2.13,"c0":1.6,"c1":1.4,"c2":1,"c3":-0.7,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":0.75,"SO2":0,"CO2":0,"H2O":1.5,"N2":2.82995},{"ID":29,"Substance":"Sulfur","Formula":"S","MW":32.066,"h0":0,"Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":1,"SO2":1,"CO2":0,"H2O":0,"N2":3.773269},{"ID":30,"Substance":"Hydrogen sulfide","Formula":"H2S","MW":34.0819,"h0":"-","Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":-0.000545,"u1":0.0000502,"u2":-1.3e-8,"k0":"-","k1":"-","k2":"-","O2":1.5,"SO2":1,"CO2":0,"H2O":1,"N2":5.659904},{"ID":31,"Substance":"Steam (Water vapor)","Formula":"H2O","MW":18.0153,"h0":-241826,"Cp0":1.872,"c0":1.79,"c1":0.107,"c2":0.586,"c3":-0.2,"u0":-0.00596,"u1":0.0000484,"u2":-4.76e-9,"k0":-0.00592,"k1":0.0000718,"k2":-3.03e-8,"O2":0,"SO2":0,"CO2":0,"H2O":1,"N2":0},{"ID":32,"Substance":"Water (liquid)","Formula":"H2Ol","MW":18.0153,"h0":-285830,"Cp0":"-","c0":"-","c1":"-","c2":"-","c3":"-","u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":0,"SO2":0,"CO2":0,"H2O":1,"N2":0},{"ID":33,"Substance":"Dry Air","Formula":"N2+O2","MW":28.8483,"h0":0,"Cp0":1.004,"c0":1.05,"c1":-0.365,"c2":0.85,"c3":-0.39,"u0":"-","u1":"-","u2":"-","k0":"-","k1":"-","k2":"-","O2":0.2095,"SO2":0,"CO2":0,"H2O":0,"N2":0.7905},{"ID":34,"Substance":"Sulfur dioxide","Formula":"SO2","MW":62.059,"h0":-296842,"Cp0":0.624,"c0":0.37,"c1":1.05,"c2":-0.77,"c3":0.21,"u0":-0.00301,"u1":0.0000578,"u2":-1.66e-8,"k0":-0.00188,"k1":0.0000314,"k2":2.7e-8,"O2":0,"SO2":1,"CO2":0,"H2O":0,"N2":0}]')}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{const{logger:e,options:t,unitConv:o,initSystem:r,linearApprox:a,newtonRaphson:s,viscosityApprox:u,kw_tubes_A312_TP321:l}=n(170),i=n(684),{radSection:c}=n(113),{convSection:_}=n(489),{shieldSection:d}=n(361),{combSection:f}=n(392),{browserProcess:m}=n(620),h=o.FtoK(678),p=o.FtoK(772),O=o.CpENtoCpSI(.676),$=o.CpENtoCpSI(.703),C=o.kwENtokwSI(.038),b=o.kwENtokwSI(.035),g=(o.kwENtokwSI(11.508),(t,n)=>{const i=(e=>({p_atm:e.pAtm,t_air:e.tAmb,t_fuel:e.tAmb,t_amb:e.tAmb,humidity:e.humidity,airExcess:e.airExcess,o2Excess:e.o2Excess,max_duty:o.BTUtokJ(71527.6),Rfi:0,Rfo:0,duty_rad_dist:.7,efficiency:.8,heat_loss_percent:.015,m_fluid:500590,miu_fluid:u({t1:h,v1:1.45,t2:p,v2:.96}),Cp_fluid:a({x1:h,y1:O,x2:p,y2:$}),kw_fluid:a({x1:h,y1:C,x2:p,y2:b}),t_in_conv:h,t_out:p,h_conv:o.hcENtohcSI(1.5),kw_tube:l,Pass_number:2,CtoC:o.intom(2),Pitch_rad:o.intom(16),N_rad:42,L_rad:o.fttom(62),Do_rad:o.intom(8.625),Sch_rad:o.intom(.322),Di_rad:o.intom(8.303),Width_rad:17.5,Length_rad:64.55,Height_rad:27,N_shld:16,L_shld:o.fttom(60),Do_shld:o.intom(6.625),Pitch_sh_cnv:o.intom(12),Sch_sh_cnv:o.intom(.28),Tpr_sh_cnv:8,N_conv:40,L_conv:o.fttom(60),Do_conv:o.intom(6.625),Nf:o.mtoft(60),Tf:o.fttom(.005),Lf:o.fttom(.08),verbose:e.verbose,unitSystem:e.unitSystem,lang:e.lang,NROptions:e.NROptions,units:r(e.unitSystem)}))(n);if(0!=i.o2Excess){const n=s((n=>{const o=f(n,t,i);return e.info("O2%: "+o.flows["O2_%"]+" vs O2excess: "+100*i.o2Excess),o.flows["O2_%"]/100-i.o2Excess}),.5,i.NROptions,"o2_excess_to_air");n&&(i.airExcess=n)}else i.airExcess=n.airExcess;const m=f(i.airExcess,t,i);return m.rad_result=c(i),m.shld_result=d(i),m.conv_result=_(i),m});let k={H2:.1142,N2:.0068,CO:.0066,CO2:.0254,CH4:.5647,C2H6:.1515,C3H8:.0622,C4H10:.0176,iC4H10:.0075,C2H4:.0158,C3H6:.0277};"undefined"!=typeof window?m(k,i,t,g):g(k,t)})()})();